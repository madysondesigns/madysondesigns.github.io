<nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top" id="sideNav">
  {%- assign default_paths = site.pages | map: "path" -%}
  {%- assign page_paths = site.header_pages | default: default_paths -%}
  {%- assign titles_size = site.pages | map: 'title' | join: '' | size -%}
  <a class="navbar-brand js-scroll-trigger" href="{{ site.url | relative_url }}">
    <div class="d-none d-lg-block">
      <img class="img-fluid img-profile rounded-circle mx-auto mb-2" src="{{ site.data.personal.profileImage }}?s=400" alt="">
    </div>
    <h1 class="d-block nav-name">{{ site.data.personal.name | escape }}</h1>
    <div class="d-none d-lg-block nav-location">{{ site.data.personal.tagline }}</div>
    <div class="d-none d-lg-block nav-location">{{ site.data.personal.location }}</div>
  </a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="fa fa-bars"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav list-unstyled">
      {%- for path in page_paths -%}
        {%- assign my_page = site.pages | where: "path", path | first -%}
        {%- if my_page.title -%}
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="{{ my_page.url | relative_url }}">{{ my_page.title | escape }}</a>
          </li>
        {%- endif -%}
      {%- endfor -%}

      {%- for case-study in site.case-studies -%}
      <li class="nav-item">
        <a class="nav-link js-scroll-trigger" href="{{ case-study.url | relative_url }}">{{ case-study.title | escape }}</a>
      </li>
      {%- endfor -%}
    </ul>
  </div>
</nav>
